{"version":3,"sources":["helpers/helpers.tsx","pages/Volumes/Volumes.module.css","components/MaterialCustomized/MenuVolumes.tsx","pages/Volumes/Volumes.tsx"],"names":["isAllTrue","obj","_i","_Object$entries","Object","entries","length","_ref3","_ref2","_home_thesis_thesis_master_react_flask_pod_ui_app_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","handleSelectAll","selectedItems","allTrue","updated","_home_thesis_thesis_master_react_flask_pod_ui_app_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","_i2","_Object$entries2","_ref6","_ref5","key","toggleSelectAll","isSelectedAny","_i3","_Object$entries3","_ref9","_ref8","extractIds","items","imageIds","_i5","_Object$entries5","_ref15","_ref14","push","extractSelected","_i6","_Object$entries6","_ref18","_ref17","module","exports","Volumes","Wrapper","Info","Content","Buttons","Heading","Name","Driver","Mountpoint","Button","Headline","DetailTitle","Error","MenuVolumes","props","volumeName","volumeOperation","_useState","useState","_useState2","slicedToArray","anchorEl","setAnchorEl","name","handleClose","react_default","a","createElement","variant","color","aria-controls","aria-haspopup","onClick","event","currentTarget","Menu","id","keepMounted","open","Boolean","onClose","MenuItem","connect","state","volumes","loading","errorVolumes","error","dispatch","fetchVolumes","actions","createVolume","removeVolumes","selectedVolumes","_useViewport","useViewport","tabletLandscape","desktop","defaultSelectedVolumes","objectSpread","setSelectedVolumes","_useState3","_useState4","openCreateVolumeModal","setOpenCreateVolumeModal","_useState5","_useState6","createVolumeName","setCreateVolumeName","_useState7","_useState8","showBackendError","setShowBackendError","useEffect","newSelected","handleCheckboxChange","changeEvent","target","old","handleVolumeOperation","mode","volumesNames","toLowerCase","console","log","_i4","_Object$entries4","_ref12","_ref11","isSelected","volumesTitleClasses","css","content","className","LoadingIndicator","Grid","container","direction","map","volume","i","Fragment","Accordion","AccordionSummary","expandIcon","ExpandMore_default","aria-label","FormControlLabel","stopPropagation","onFocus","control","Checkbox","onChange","checked","label","item","Tooltip","title","MaterialCustomized_MenuVolumes","AccordionDetails","disabled","startIcon","Delete_default","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","margin","type","fullWidth","e","value","DialogActions","Alert","severity","AlertTitle","join"],"mappings":"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","file":"js/7.a286ae0a.chunk.js","sourcesContent":["// Sets all properties of an object to FALSE\nexport const isAllTrue = (obj: Object) => {\n    for (const [key, value] of Object.entries(obj)) {\n        if (value === false) {\n            return false;\n        }\n    }\n    return true;\n};\n\n// The following two functions handle the main select checkbox, if there is < all elements selected, it selects all of them\n// if all elements are selected, it deselects all of them\nexport const toggleSelectAll = (obj: Object, allTrue: Boolean) => {\n    for (const [key, value] of Object.entries(obj)) {\n        if (allTrue) {\n            obj[key] = false\n        } else {\n            obj[key] = true\n        }\n    }\n};\n\nexport const handleSelectAll = (selectedItems: Object) => {\n    const allTrue = isAllTrue(selectedItems);\n    const updated = { ...selectedItems };\n    toggleSelectAll(updated, allTrue);\n\n    return updated\n};\n\n// Checks if any element is selected\nexport const isSelectedAny = (selectedItems: Object) => {\n    for (const [key, value] of Object.entries(selectedItems)) {\n        if (value === true) {\n            return true\n        }\n    }\n    return false;\n};\n\n// Checks if 1 element is selected\nexport const isSelectedOne = (selectedItems: Object) => {\n    let count = 0;\n\n    for (const [key, value] of Object.entries(selectedItems)) {\n        if (value === true) {\n            count++;\n        }\n    }\n\n    return count === 1;\n};\n\n// Extracts IDs from elements and returns them as an array\nexport const extractIds = (items: Object) => {\n    const imageIds = [];\n    for (const [key, value] of Object.entries(items)) {\n        if (value === true) {\n            imageIds.push(key);\n        }\n    }\n    return imageIds;\n};\n\n// Extracts selected elements and returns them as an array\nexport const extractSelected = (items) => {\n    const selectedItems = [];\n    for (const [key, value] of Object.entries(items)) {\n        if (value === true) {\n            selectedItems.push(key);\n        }\n    }\n    return selectedItems;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Volumes\":\"Volumes_Volumes__1bWWe\",\"Wrapper\":\"Volumes_Wrapper__1IRyg\",\"Info\":\"Volumes_Info__3Knqr\",\"Content\":\"Volumes_Content__3nZyU\",\"Buttons\":\"Volumes_Buttons__1ZXvB\",\"Heading\":\"Volumes_Heading__2VLjw\",\"Name\":\"Volumes_Name__Ry_HU\",\"Driver\":\"Volumes_Driver__1_Thq\",\"Mountpoint\":\"Volumes_Mountpoint__2p-tT\",\"Button\":\"Volumes_Button__3_We4\",\"Headline\":\"Volumes_Headline__-kCBR\",\"DetailTitle\":\"Volumes_DetailTitle__1lWRm\",\"Error\":\"Volumes_Error__17w6n\"};","import React, { useState } from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\n\nconst MenuVolumes = props => {\n    const { volumeName, volumeOperation } = props\n    const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n    const name = {};\n    name[volumeName] = true;\n\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    return (\n        <div>\n            <Button variant=\"outlined\" color=\"secondary\" aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n                Actions\n            </Button>\n            <Menu\n                id=\"simple-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n            >\n                <MenuItem onClick={() => volumeOperation(name, \"remove\")}>Remove</MenuItem>\n                <MenuItem onClick={handleClose}>Close</MenuItem>\n            </Menu>\n        </div>\n    )\n}\n\nexport default MenuVolumes;\n","import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport * as actions from '../../store/actions/index';\nimport { AppState } from '../../store';\n\nimport css from './Volumes.module.css';\nimport LoadingIndicator from '../../components/UI/LoadingIndicator/LoadingIndicator';\nimport MenuVolumes from '../../components/MaterialCustomized/MenuVolumes';\n\nimport { Volume } from '../../models/Models';\nimport { isAllTrue, handleSelectAll, extractIds, isSelectedAny } from '../../helpers/helpers';\nimport { useViewport } from '../../Viewport';\n\n// Material UI\nimport Grid from '@material-ui/core/Grid';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, TextField, Typography } from '@material-ui/core';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { Alert, AlertTitle } from '@material-ui/lab';\n\n\ninterface IVolumesProps {\n    volumes: Volume[],\n    loading: boolean,\n    errorVolumes: string,\n    fetchVolumes: Function,\n    createVolume: Function,\n    removeVolumes: Function,\n\n    volumesDataTest: Volume[]\n}\n\nconst Volumes = (props: IVolumesProps) => {\n    const { fetchVolumes, createVolume, removeVolumes, volumes, errorVolumes, loading } = props;\n    const { tabletLandscape, desktop } = useViewport();\n\n    // used for selected volumes initialization\n    const defaultSelectedVolumes = {};\n\n    // by default no volumes are selected\n    for (const [key, value] of Object.entries(volumes)) {\n        defaultSelectedVolumes[value.Name] = false\n    }\n\n    // local state\n    const [selectedVolumes, setSelectedVolumes] = useState<any>({ ...defaultSelectedVolumes });\n    const [openCreateVolumeModal, setOpenCreateVolumeModal] = useState(false);\n    const [createVolumeName, setCreateVolumeName] = useState(\"\");\n    const [showBackendError, setShowBackendError] = useState<boolean>(false);\n\n    // tracks if all volumes are selected in which case the main select checkbox becomes checked\n    const allTrue = isAllTrue(selectedVolumes);\n\n    // fetch information about volumes\n    useEffect(() => {\n        fetchVolumes();\n    }, [fetchVolumes]);\n\n    // checks if there is an error from backend\n    useEffect(() => {\n        setShowBackendError(errorVolumes.length > 0);\n    }, [errorVolumes]);\n\n    // whenever volumes data updates, add them to the selected volumes state, false by default\n    useEffect(() => {\n        const newSelected = {};\n        for (const [key, value] of Object.entries(volumes)) {\n            newSelected[value.Name] = false\n        }\n        setSelectedVolumes({ ...newSelected });\n    }, [volumes]);\n\n    // handles select volume checkbox event\n    const handleCheckboxChange = changeEvent => {\n        const { id } = changeEvent.target;\n        const old = { ...selectedVolumes };\n\n        for (const [key, value] of Object.entries(old)) {\n            if (id === key) {\n                old[key] = !old[key];\n            }\n        }\n\n        setSelectedVolumes(old);\n    };\n\n    // the following 4 functions handle the \"create volume\" functionality, opening and closing the modal,\n    // changing its name value as user types and triggers the appropriate Redux action to actually create the volume.\n    const handleCreateVolumeOpen = () => {\n        setOpenCreateVolumeModal(true);\n    };\n\n    const handleCreateVolumeClose = () => {\n        setOpenCreateVolumeModal(false);\n    };\n\n    const onChangeCreateVolume = (e) => {\n        setCreateVolumeName(e.target.value);\n    };\n\n    const handleVolumeCreate = () => {\n        setOpenCreateVolumeModal(false);\n        if (createVolumeName.length == 0) {\n            return;\n        }\n        createVolume(createVolumeName);\n        setCreateVolumeName('');\n    };\n\n    // handles various volume operations triggered from the ACTIONS button for a specific volume (not using the select feature)\n    const handleVolumeOperation = (selectedVolumes, mode: string) => {\n        const volumesNames = extractIds(selectedVolumes);\n\n        switch (mode.toLowerCase()) {\n            case \"remove\":\n                removeVolumes(volumesNames);\n                break;\n            default: console.log(\"Unknown operation!\");\n        }\n\n        const updated = { ...selectedVolumes };\n\n        for (const [key, value] of Object.entries(updated)) {\n            if (value === true) {\n                updated[key] = false\n            }\n        }\n        setSelectedVolumes(updated);\n    };\n\n    // marks all volumes as selected\n    const selectAll = () => {\n        const updated = handleSelectAll(selectedVolumes);\n        setSelectedVolumes(updated);\n    };\n\n    // if there is a selected volume, the operations that require selection become available\n    const isSelected = isSelectedAny(selectedVolumes);\n\n    const volumesTitleClasses = [css.Content, css.Heading];\n\n    // stores the main content - information about volumes\n    let content = <div className={css.Wrapper}><LoadingIndicator /></div>\n\n    if (volumes) {\n        content = <Grid container direction=\"column\">\n            {(volumes && volumes.length) ?\n                (volumes.map((volume, i) => {\n                    return <React.Fragment key={volume.Name}>\n\n                        <Accordion>\n                            <AccordionSummary\n                                expandIcon={<ExpandMoreIcon />}\n                                aria-label=\"Expand\"\n                                aria-controls=\"additional-actions1-content\"\n                                id=\"additional-actions1-header\"\n                            >\n                                <FormControlLabel\n                                    aria-label=\"Acknowledge\"\n                                    onClick={(event) => event.stopPropagation()}\n                                    onFocus={(event) => event.stopPropagation()}\n                                    control={<Checkbox\n                                        color=\"primary\"\n                                        onChange={handleCheckboxChange}\n                                        id={volume.Name}\n                                        checked={selectedVolumes[volume.Name] || false}\n                                    />}\n                                    label=\"\"\n                                />\n                                <Grid item container className={css.Content}>\n                                    <Tooltip title={volume.Name}>\n                                        <Grid className={css.Name}>{volume.Name}</Grid>\n                                    </Tooltip>\n                                    {(desktop || tabletLandscape) &&\n                                        <Tooltip title={volume.Driver}>\n                                            <Grid className={css.Driver}>{volume.Driver}</Grid>\n                                        </Tooltip>\n                                    }\n                                    {desktop &&\n                                        <Tooltip title={volume.Mountpoint}>\n                                            <Grid className={css.Mountpoint}>{volume.Mountpoint}</Grid>\n                                        </Tooltip>\n                                    }\n\n                                    <FormControlLabel\n                                        aria-label=\"Acknowledge\"\n                                        onClick={(event) => event.stopPropagation()}\n                                        onFocus={(event) => event.stopPropagation()}\n                                        control={<MenuVolumes\n                                            volumeName={volume.Name}\n                                            volumeOperation={handleVolumeOperation}\n                                        />}\n                                        label=\"\"\n                                    />\n                                </Grid>\n                            </AccordionSummary>\n\n                            <AccordionDetails>\n                                <Grid container direction=\"column\">\n                                    <Grid container direction=\"row\">\n                                        <Grid item className={css.DetailTitle}>Mountpoint:</Grid>\n                                        <Grid item className={css.Mountpoint}>{volume.Mountpoint}</Grid>\n                                    </Grid>\n                                    <Grid container direction=\"row\">\n                                        <Grid item className={css.DetailTitle}>Driver:</Grid>\n                                        <Grid item className={css.Driver}>{volume.Driver}</Grid>\n                                    </Grid>\n                                </Grid>\n                            </AccordionDetails>\n                        </Accordion>\n                    </React.Fragment>\n                }))\n                :\n                ''\n            }\n        </Grid>\n    }\n\n    return (\n        <div className={css.Volumes}>\n            <div className={css.Wrapper}>\n                <h1 className={css.Headline}>Podman Volumes</h1>\n                <p>Showing information about Volumes based on the `podman volume inspect` command</p>\n                <Grid container className={css.Buttons}>\n                    <Grid item className={css.Button}>\n                        <Button\n                            disabled={!isSelected}\n                            color=\"secondary\"\n                            variant=\"outlined\"\n                            startIcon={<DeleteIcon />}\n                            onClick={() => handleVolumeOperation(selectedVolumes, \"remove\")}>\n                            Remove Selected\n                        </Button>\n                    </Grid>\n\n                    <Grid item className={css.Button}>\n                        <Button variant=\"outlined\" color=\"primary\" onClick={handleCreateVolumeOpen}>\n                            Create\n                        </Button>\n                        <Dialog open={openCreateVolumeModal} onClose={handleCreateVolumeClose} aria-labelledby=\"form-dialog-title\">\n                            <DialogTitle id=\"form-dialog-title\">Create</DialogTitle>\n                            <DialogContent>\n                                <DialogContentText>\n                                    Enter the name of volume you want to create\n                            </DialogContentText>\n                                <TextField\n                                    autoFocus\n                                    margin=\"dense\"\n                                    id=\"name\"\n                                    label=\"Volume Create\"\n                                    type=\"text\"\n                                    fullWidth\n                                    onChange={onChangeCreateVolume}\n                                />\n                            </DialogContent>\n                            <DialogActions>\n                                <Button onClick={handleVolumeCreate} color=\"primary\">\n                                    Create\n                            </Button>\n                            </DialogActions>\n                        </Dialog>\n                    </Grid>\n\n                    {loading && <LoadingIndicator />}\n\n                </Grid>\n\n                {showBackendError &&\n                    <Alert severity=\"error\" onClose={() => { setShowBackendError(!showBackendError) }}>\n                        <AlertTitle><strong>Backend Error</strong></AlertTitle>\n                        {errorVolumes.length > 0 &&\n                            <p className={css.Error}>{errorVolumes}</p>\n                        }\n                    </Alert>\n                }\n\n                <div className={css.Info}>\n                    <div className={volumesTitleClasses.join(' ')}>\n                        <Checkbox color=\"primary\" onChange={selectAll} checked={allTrue || false} />\n                        <div className={css.Name}>Name</div>\n                        {(desktop || tabletLandscape) &&\n                            <div className={css.Driver}>Driver</div>\n                        }\n                        {desktop &&\n                            <div className={css.Mountpoint}>Mountpoint</div>\n                        }\n                    </div>\n                    {content}\n                </div>\n            </div>\n        </div>\n    );\n};\n\n// Redux Store variables\nconst mapStateToProps = (state: AppState) => {\n    return {\n        volumes: state.volumes.volumes,\n        loading: state.volumes.loading,\n        errorVolumes: state.volumes.error,\n    };\n};\n\n// Redux Store actions\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AnyAction>) => {\n    return {\n        fetchVolumes: () =>\n            dispatch(actions.fetchVolumes()),\n        createVolume: (name) =>\n            dispatch(actions.createVolume(name)),\n        removeVolumes: (selectedVolumes: string[]) =>\n            dispatch(actions.removeVolumes(selectedVolumes)),\n    };\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Volumes);\n"],"sourceRoot":""}